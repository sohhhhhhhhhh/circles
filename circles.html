<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Test with circles</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --func: cubic-bezier(0.25, 0.1, 0.25, 1);
        }

        body {
            margin: 0;
            min-height: 100svh;
            background: #fafafa;
            font-family: 'Cormorant Garamond', serif;
        }

        .stage {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100svh;
        }

        .symbol-zone {
            padding-top: 15svh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
            align-items: center;
            width: 60%;
        }

        .wrapper {
            width: min(60vw, 30rem);
            aspect-ratio: 1;
            position: relative;
            cursor: pointer;
            z-index: 1;

            animation: pulse 3s infinite ease-in-out;
        }


        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.012); }
        }

        #symbol {
            width: 100%;
            height: 100%;
            transform-origin: 50% 50%;
            transition: opacity 1.8s var(--func);
        }

        .message-container {
            width: 90%;
            max-width: 30rem;
            margin: 1rem auto;
            text-align: center;
            position: absolute;
            z-index: 2;
            pointer-events: none ;

        }

        .message {
            opacity: 0;
            transition: opacity 2s var(--func);
            font-size: clamp(1.5rem, 3vw, 2rem);
        }

        .message.visible {
            opacity: 1;
        }

        .cards-zone {
            width: 100%;
            display: flex;
            justify-content: center;
            padding: 2rem 1rem;
        }
        .cards {
            display: flex;
            gap: 1.5rem;
            width: 100%;
            max-width: 64rem;
            justify-content: space-between;
        }

        .card {
            flex: 1;
            min-width: 0;

            padding: 1.5rem;
            border: 1px black solid;
            border-radius: 1rem;
            text-align: center;

            opacity: 0;
            transform: translateY(1rem);
            pointer-events: none;

            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 120px;

            transition: opacity 1.6s var(--func), transform 1.6s var(--func);
        }
        .card.visible {
            opacity: 1;
            transform: translateY(0);
            pointer-events: auto;
        }
        @media (max-width: 768px) {
            .cards {
                flex-direction: column;
                align-items: center;
            }

            .card {
                width: 100%;
                max-width: 22rem;
            }
        }
    </style>
</head>
<body>

<div class="stage">
    <div class="symbol-zone">
        <div class="wrapper" id="trigger">
            <svg id="symbol" viewBox="0 0 5070 5070">
                <g transform="matrix(1,0,0,1,-15340.4,-20893.6)">
                    <g transform="matrix(5.55556,0,0,5.55556,12375,0)">
                        <g transform="matrix(1,0,0,1,1021.87,4185.11)">
                            <path d="M0,-334.508L0,-166.495L0.014,-166.495C0.426,-74.912 74.809,-0.492 166.377,-0.022L166.377,0L271.917,0L285.915,-37.033L166.377,-37.033L166.377,-36.985C95.034,-37.456 37.125,-95.537 36.96,-166.953L36.915,-166.953L36.915,-334.508L0,-334.508Z" style="fill:none;fill-rule:nonzero;stroke:rgb(204,152,78);stroke-width:1.42px;"/>
                        </g>
                        <g transform="matrix(1,0,0,1,577.513,4083.37)">
                            <path d="M0,114.12C2.335,64.254 13.553,15.818 33.762,-30.842C45.15,-57.217 77.657,-124.051 128.745,-164.283C128.833,-164.247 128.638,-164.434 128.722,-164.394C151.783,-184.517 182.11,-196.703 215.121,-196.703C287.625,-196.703 346.401,-137.926 346.401,-65.423C346.401,7.08 287.625,65.857 215.121,65.857C142.761,65.857 84.096,7.307 83.863,-64.998C72.131,-45.07 64.176,-27.735 60.526,-19.284C59.333,-16.53 58.344,-13.724 57.223,-10.951C79.835,54.584 141.903,101.735 215.121,101.735C307.44,101.735 382.279,26.895 382.279,-65.422C382.279,-157.741 307.44,-232.581 215.121,-232.581C179.689,-232.581 146.982,-221.371 119.966,-202.539C119.925,-202.567 116.554,-200.22 116.181,-199.945C45,-149.959 6.374,-58.565 0.147,-44.192C-21.596,5.995 -34.436,60.899 -36.359,118.527C-36.348,118.528 -36.337,118.529 -36.325,118.531C-36.497,123.563 -36.627,128.608 -36.627,133.682C-36.627,210.736 -17.05,283.271 17.289,346.701L17.638,346.261C17.248,341.227 17.041,336.164 17.041,331.077C17.041,311.859 19.937,293.326 25.109,275.76C8.386,230.4 -0.473,182.206 -0.473,133.681C-0.473,129.016 -0.347,124.381 -0.194,119.763L0,114.12Z" style="fill:none;fill-rule:nonzero;stroke:rgb(204,152,78);stroke-width:1.42px;"/>
                        </g>
                        <g transform="matrix(1,0,0,1,1187.37,4300.96)">
                            <path d="M0,311.57C-19.219,311.57 -37.752,308.674 -55.318,303.502C-100.678,320.225 -148.871,329.084 -197.397,329.084C-202.061,329.084 -206.696,328.958 -211.314,328.805L-216.957,328.611C-266.823,326.276 -315.259,315.059 -361.919,294.849C-388.294,283.461 -455.128,250.955 -495.36,199.866C-495.325,199.778 -495.511,199.973 -495.471,199.889C-515.594,176.828 -527.78,146.501 -527.78,113.49C-527.78,40.986 -469.004,-17.79 -396.501,-17.79C-323.997,-17.79 -265.221,40.986 -265.221,113.49C-265.221,185.85 -323.77,244.516 -396.075,244.748C-376.147,256.48 -358.812,264.435 -350.361,268.085C-347.608,269.278 -344.801,270.267 -342.029,271.388C-276.493,248.776 -229.342,186.708 -229.342,113.49C-229.342,21.171 -304.182,-53.668 -396.5,-53.668C-488.819,-53.668 -563.658,21.171 -563.658,113.49C-563.658,148.922 -552.448,181.63 -533.616,208.645C-533.644,208.686 -531.298,212.057 -531.022,212.43C-481.036,283.611 -389.642,322.237 -375.27,328.464C-325.082,350.207 -270.178,363.047 -212.55,364.97C-212.55,364.959 -212.548,364.948 -212.547,364.936C-207.514,365.109 -202.469,365.238 -197.395,365.238C-120.342,365.238 -47.806,345.661 15.623,311.322L15.184,310.973C10.15,311.363 5.087,311.57 0,311.57Z" style="fill:none;fill-rule:nonzero;stroke:rgb(204,152,78);stroke-width:1.42px;"/>
                        </g>
                        <g transform="matrix(1,0,0,1,1439.11,4134.23)">
                            <path d="M0,82.873C0,9.873 -17.796,-58.943 -48.85,-119.929C-48.889,-120.006 -48.924,-120.085 -48.963,-120.161C-49.691,-121.588 -50.539,-122.941 -51.281,-124.359C-126.319,-267.867 -276.261,-366.263 -449.114,-366.263C-526.17,-366.263 -598.706,-346.685 -662.138,-312.343C-657.519,-312.676 -652.892,-312.959 -648.24,-312.959C-644.405,-312.959 -640.59,-312.825 -636.813,-312.608C-623.974,-311.873 -611.097,-309.84 -598.574,-306.573C-595.857,-305.864 -593.247,-304.941 -590.583,-304.125C-546.429,-320.368 -498.836,-329.412 -449.114,-329.412C-271.378,-329.412 -119.3,-216.485 -61.502,-58.521C-59.949,-54.278 -58.496,-49.991 -57.081,-45.684C-56.624,-44.297 -56.122,-42.926 -55.678,-41.536C-42.889,-1.419 -36.154,40.6 -36.154,82.875C-36.154,87.539 -36.28,92.174 -36.433,96.792L-36.627,102.435C-38.962,152.301 -50.18,200.738 -70.389,247.398C-81.777,273.773 -114.284,340.606 -165.372,380.839C-165.46,380.803 -165.265,380.989 -165.349,380.95C-188.41,401.072 -218.737,413.258 -251.748,413.258C-324.252,413.258 -383.028,354.482 -383.028,281.979C-383.028,209.475 -324.252,150.699 -251.748,150.699C-179.388,150.699 -120.723,209.248 -120.49,281.553C-108.758,261.626 -100.803,244.291 -97.153,235.84C-95.96,233.086 -94.971,230.279 -93.85,227.507C-116.462,161.972 -178.53,114.821 -251.748,114.821C-344.067,114.821 -418.906,189.66 -418.906,281.978C-418.906,374.297 -344.067,449.136 -251.748,449.136C-216.316,449.136 -183.609,437.926 -156.593,419.094C-156.552,419.123 -153.181,416.776 -152.808,416.5C-81.627,366.514 -43.001,275.121 -36.774,260.748C-15.031,210.561 -2.191,155.657 -0.268,98.029C-0.279,98.028 -0.29,98.027 -0.302,98.025C-0.13,92.992 0,87.948 0,82.873Z" style="fill:none;fill-rule:nonzero;stroke:rgb(204,152,78);stroke-width:1.42px;"/>
                        </g>
                    </g>
                </g>
            </svg>
        </div>
        <div class="message-container">
            <div class="message" id="message"></div>
        </div>
    </div>



    <div class="cards-zone">
        <div class="cards">
            <div class="card" data-card="a">Процедура A</div>
            <div class="card" data-card="b">Процедура B</div>
            <div class="card" data-card="c">Процедура C</div>
        </div>
    </div>
</div>

<script>
    const contentMap = [
        { message:'Время остановиться и выдохнуть', cards:['a','b','c'] },
        { message:'Красота начинается с покоя', cards:['a','b','c'] },
        { message:'Ритуал для тела и души', cards:['a','b','c'] },
        { message:'Мягкое восстановление изнутри', cards:['a','b','c'] },
        { message:'Баланс, к которому хочется вернуться', cards:['a','b','c'] },
        { message:'Пространство медленного ухода', cards:['a','b','c']},
        { message:'Тонкое внимание к себе', cards:['a','b','c'] },
        { message:'Момент тишины и заботы', cards:['a','b','c'] }
    ];

    const trigger = document.getElementById('trigger');
    const symbol = document.getElementById('symbol');
    const message = document.getElementById('message');
    const cards = document.querySelectorAll('.card');

    let angle = 0;
    let speed = 0.13;
    let fading = false;
    let locked = false;

    function rotate() {
        angle += speed;
        symbol.style.transform = `rotate(${angle}deg)`;
        if (fading) {
            speed *= 0.96;
            symbol.style.opacity -= 0.015;
        }
        if (speed > 0.001) requestAnimationFrame(rotate);
    }

    trigger.addEventListener('click', () => {
        if (locked) return;
        locked = true;
        rotate();

        setTimeout(() => {
            fading = true;
            const data = contentMap[Math.floor(Math.random() * contentMap.length)];
            message.textContent = data.message;
            message.classList.add('visible');

            cards.forEach(card => {
                card.classList.toggle('visible', data.cards.includes(card.dataset.card));
            });
        }, 2200);
    });
</script>

</body>
</html>
